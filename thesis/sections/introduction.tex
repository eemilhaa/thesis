\section{Introduction}
% Start with cartography instead? (kra2021)

% Cartography
% importance: recent developments, data, revealing patterns. See also \textcite{kra2021}.

% Accessibility shortly
% Accessibility from a cartographical angle
% challenges in presenting

Maps are ubiquitous and essential to human civilization.
In addition to depicting our geographical surroundings,
they help us reveal and understand new patterns and phenomena,
and to gain insights from information
that would otherwise be hard or impossible to interpret \parencite{mac2004}.
Currently, we live in a world that is in a state of rapid and
alarming change \parencite{un2023},
but where information is available in an unprecedented abundance
\parencite{rob2017a, un2023}.
Acknowledged as one of the most pressing issues of the ongoing decade,
efficiently harnessing this data is a requirement
for the well-being of the entire planet \parencite{un2020}.
As the quantity of data grows
and understanding it becomes more and more demanding,
the relevance of maps and cartography is only increasing.
Maps, mapping technologies and cartography are essential,
as they can provide unique ways to synthesize and make sense of complex data,
of which there is no shortage \parencite{kra2021}.
% To summarize, any means that allow us to make sense of an overflow of information are vital,
% and maps and cartography certainly are such means.
% and it is no coincidence that \textcite{kra2021}

From this perspective,
interactive maps, more specifically digital interactive map applications,
can be seen as especially vital.
% Why interactive maps good
As opposed to approaching maps solely as communicative devices or representations
that are made to be passively read,
the concept of cartographic interaction redistributes the agency in how maps work.
Not only a reader, the map user has the capability of actively manipulating the map,
and the map, in turn, has the capability of adapting to the manipulation \parencite{eds2008}.
From such user-map exchanges emerges a dialogue:
A process where, in addition to the map user altering the map,
the map affects the user as they perceive and evaluate the results of their map manipulation
\parencite{rot2011}.
Such blend of simultaneous mapmaking and -reading
is considered highly conductive to analytical thinking and reasoning
with spatial data,
enabling new ways to solve novel and increasingly complex problems
\parencite{rob2017b, and2010}.
In addition to consciously analytical expert use,
interactive maps and accompanying technologies have found their place
in the everyday lives of most.
Cartographic interaction, for example in the form of online and mobile map applications,
can in this sense be seen to facilitate the access to spatial information
for the many rather than the few \parencite{mei2019}.

While cartography has long been considered a highly multidisciplinary science,
understanding and crafting cartographic interaction necessitates an even
more diverse set of research themes, questions and methods.
The transition from the map reader to the map user
introduces the cognitive process of map use in addition to map reading
\parencite{mac2015, liu2010},
and requires envisioning the map as an interface in addition to a representation
\parencite{rot2013b}.
Gaining insight on how the map interface is used, perceived and reasoned with
means including the user into the cartographic process,
and calls for studies designed around map use specifically as enabled by cartographic interaction
\parencite{rot2017}.

At a technological level,
the notion of interactive maps as digital applications relates maps to software.
Often, this software more particularly refers to web applications:
The web has for a while been considered the de-facto software platform \parencite{tai2017, mik2019},
and a clear majority of interactive maps are being made for the web \parencite{vee2017}.
This means that the tools of the mapmaker
increasingly resemble those of a web developer \parencite{rot2021}.
The assessment of these tools from a cartographic perspective is
an effort regarded as both necessary and topical:
Necessary since software defines the technological possibilities and limits
of cartographic interaction,
and topical due to the rapid pace of technological innovation
and the equally fast increase of the requirements placed upon map interfaces
\parencite{rot2014, rot2021}.

In this study I approach cartographic interaction from two points of view,
with two main goals.
From a technology-centric perspective,
I aim to assess the tradeoffs, limitations and technologies to be considered when
striving for an interactive, dynamic and responsive web map interface to complex data.
% I aim to find out how web-based cartographic interaction can be utilized in exploring
% massive geospatial data.
From a user-centric perspective,
my goal is to study how
map users utilize a highly interactive map interface
and how they perceive the mapped phenomenon
through cartographic interaction.


Both my goals revolve around developing an interactive web map application --
a map interface for exploring the \presentacr{ttm} \parencite{fin2023}.
In short, the \acrshort{ttm} is a large dataset on spatial accessibility,
containing travel times for
over 175 million unique routes by a multitude of travel modes
in the Helsinki region, southern Finland.
Functionally speaking, the goal of the map interface is to enable
a user to explore travel times to all locations included in the dataset,
by all travel modes.
Considering the scale of the dataset,
a dynamic, real-time approach to interaction is necessary
if any meaningful portion of the data is to be explored.
More descriptively, the interface should allow for flexible and
responsive (dynamic) interaction exchanges that happen with as little as possible delay
perceived by the user (in real-time).
% The main design factor
In the context of my technology-centric goal,
the development process and the map application are the framework
allowing me to study the technological aspects interactive maps.
Considering my user-centric goal,
the development process outputs an interactive map application
to be used in studying how such an interface is used and understood by map users.

I further delineate the focus of my work with the following research questions:

\begin{itemize}
	\item Considering dynamic real-time interaction,
	what are the performance bottlenecks of
	a web-based interactive map,
	and what data preprocessing and simplifying methods
	are needed to overcome them?
	\item What differences are there between web mapping libraries
	when used as a platform for dynamic real-time cartographic interaction?
	\item Which types of user-map interaction do map users utilize
	in different types of map usage scenarios?
	\item Does dynamic real-time interaction with a map change
	the map user's perception of the mapped phenomenon? If it does, how?
\end{itemize}

The first two research questions relate tightly to the development process.
I answer the first question by assessing different approaches to
preprocessing and simplifying a complex dataset (the TTM),
the goal being to find what characteristics of the data
limit the responsiveness of the map interface the most (are the performance bottlenecks),
and what kind of data preprocessing is needed to achieve real-time interaction with the map.
To answer the second question,
I assess how different web mapping libraries compare when used in the implementation
of a highly interactive web map application.

The latter two research questions switch the focus to user-map interaction.
I answer these questions by carrying out a user survey
where I combine the interactive web map application with
a semi-structured online questionnaire.
The questionnaire employs a task-based design
to allow for gaining insight on different scenarios of map use
and to see whether the way the user interacts with the map
affects how they perceive the mapped phenomenon.
In addition, I supplement the task-based structured portion of the questionnaire
with unstructured questions to gain qualitative insight on map use and perception.

This thesis explores the theory and technology
needed to study cartographic interaction and to craft interactive web map applications,
also concisely acknowledging the implications that the mapped phenomenon,
i.e. spatial accessibility, introduces to crafting a map interface.
Applying all this to practice, this thesis documents the technical implementation
of a web-map application and the survey process on map use.
Finally, this thesis relates the results to the wider scientific discussion
in the context of modern-day web-mapping, interactive cartography and geovisual analytics. 


% % ------------------------
% When describing the presentation I use the word system.
% This is because crafting such a presentation
% requires the mapmaker to make much more than a map --
% It means designing, implementing and optimizing
% a whole that consists of multiple components.
% These components all have their distinct purposes yet must function together
% to meet the requirements placed upon the whole.
% \begin{itemize}
% 	\item Preprocessing the dataset (the \acrshort{ttm}) to a mappable format,
% 	and simplifying it to enable its interactive exploration over the internet
% 	\item A solution for storing and serving the data, i.e. the backend
% 	\item A web application for interactively presenting the data, i.e. the frontend
% \end{itemize}

% The ultimate purpose of the entire system is to enable a map.
% The map, in turn, has a goal of conveying information;
% it is a representation of the mapped phenomenon.
% However, studying how the map works,
% not as a piece of technology but as a representation,
% is impossible based on a technical implementation alone.

% My second research goal is to understand how
% this particular representation of accessibility conveys information.
% I aim to find out how the map user understands the map,
% and how they use cartographic interaction to explore the mapped phenomenon.
% % ------------------------

% % This thesis applies all this to accessibility
% In this thesis I relate cartography to accessibility.
% When referring to accessibility,
% I more specifically mean spatial accessibility, that is,
% the ease of reaching valued destinations in physical space \parencite{lev2020}.
% Understanding accessibility is important,
% as the phenomenon is deeply interlinked in our society.
% Accessibility affects the choices and experiences of individuals \parencite{kwa1998, kwa2003}
% as well as the planning and governance processes
% of much larger entities such as cities \parencite{cur2010, low2015}.
% It is also directly linked to significant and ongoing issues such as
% urban well-being \parencite{zha2011},
% equity and justice \parencite{per2017, che2020}
% and sustainable transport and mobility \parencite{son2017, mah2019}.
% In general, research in accessibility helps us understand
% how societal systems and phenomena function
% in different scales and timeframes, and from different points of view.

% % difficulty in defining and measuring access
% However, analysing or even comprehending accessibility
% in a holistic manner is not simple.
% While a common starting point for defining the term is, quite concisely,
% \enquote{potential of opportunities for interaction} \parencite{han1959},  % define interaction in more detail?
% more precise definitions and measurements can be constructed in countless ways
% depending on the factors deemed impactful to that potential
% \parencite{pap2016}.
% For example, even with a simple consideration of travel distance as a measure of access,
% including all the different things this access can be measured in relation to
% would make the amount of variations, i.e. different \enquote{accessibilities},
% to measure grow exponentially \parencite{lev2020}.
% In addition, accessibility is inherently tied not only to location
% but also time \parencite{jar2018},
% meaning every place in every time has a level of access
% in relation to every other place.

% % hard to visualise too
% Because of its composite and dynamic nature,
% constructing representative cartographic visualizations of accessibility is difficult.
% Accessibility visualizations are often constrained
% to displaying access in relation to
% a limited number of pre-selected places (for example \textcite{wei2018}),
% or composing an accessibility index
% that can be calculated and mapped for all locations,
% in relation to potentially many different things and locations
% (for example \textcite{kim2019}).
% However, more complex accessibility measures tend to lead to
% less usable presentations \parencite{te2014},
% while mapping more simple measures could lead to an influx of variations to present.
% For example, separating different travel modes, times of day or target locations
% would multiply the amount of visualizations needed to present accessibility.

% % Not only methodological but also a cartographical challenge 
% % something that is not a physical feature nor an easily explainable variable
% % ----------------------------------------
% % general stuff about cartography - what types of phenomena / maps
% % how is accessibility different?
% % ----------------------------------------
% % Why is visualising access important?
% % This could be before the preceding chapter too?
% % Leave something for background chapter too

% % how interactivity benefits accessibility visualisation (because of how accesibility is)
% Even if visualizing every aspect of accessibility
% from everywhere to everywhere is impossible,
% careful consideration and implementation
% of the cartographic methods we have at our disposal might get us closer.
% Interactive cartography could be one approach with great potential.
% After all, a key principle of interactivity in map presentations is
% the map user's ability to change the content of the map \parencite{rot2013b}.
% For visualizing accessibility this could mean, for example,
% interactive selection of location or travel mode instead of
% a static accessibility index that, to a varying extent,
% tries to account for everything.
% Scientific literature on the topic seems to support the idea of
% interactivity in accessibility visualization,
% even indicating a need for such presentations.
% In a study focusing on the usability of
% different accessibility instruments and visualizations,  % accessibility instrument
% \textcite{te2014} highlight the importance of
% real-time interactivity between the map and the map user.
% \textcite{but2018} state that for maps to efficiently communicate accessibility,
% they should be as flexible and dynamic as possible.
% However, \textcite{but2018} also note that
% these qualities are often missing in accessibility visualizations.
% Along the same lines,
% \textcite{paj2021} find modern accessibility visualizations often complicated,
% and lacking in interactivity and flexibility.

% % research questions
% % Communicating accessibility instead of analyzing it
% % How to utilize interactive mapping in communicating accessibility

% In this thesis I focus on
% how cartographic interaction can be utilized in presenting accessibility.
% My research has two main goals.
% The first is to produce an interactive accessibility visualization --
% I develop a system for interactively presenting a massive accessibility dataset,
% the \acrlong{ttm} (\acrshort{ttm}) \parencite{fin2023},
% on the web.  % TODO introduce the matrix somewhere, maybe here?
% The \acrshort{ttm} is a dataset containing travel times for
% over a 175 million unique routes, by a multitude of travel modes,
% in the Helsinki region, southern Finland.
% The sheer volume and detail of the dataset allows for endless options
% in its presentation, and, from the perspective of this thesis,
% a real opportunity and a need to take advantage of interactivity in visualizing it.
% By using cartographic interaction
% I aim to extend the multi-location and multi-modal nature of the dataset
% to its presentation.
% The map user should be able to explore, on a map,
% travel times to all locations included in the dataset,
% by all travel modes.
% However, interaction alone does not yet enable this.
% Considering the number of different combinations of location and travel mode,
% interaction with the map must happen in real-time,
% i.e. with instant visual feedback.
% Only with this quality is it possible for the map user to
% explore any meaningful portion of the \acrshort{ttm}
% in a reasonable amount of time.

% When describing the presentation I use the word system.
% This is because crafting such a presentation
% requires the mapmaker to make much more than a map --
% It means designing, implementing and optimizing
% a whole that consists of multiple components.
% These components all have their distinct purposes yet must function together
% to meet the requirements placed upon the whole.
% While being a map first and foremost, the complete system
% requires implementing all the following components:
% \begin{itemize}
% 	\item Preprocessing the dataset (the \acrshort{ttm}) to a mappable format,
% 	and simplifying it to enable its interactive exploration over the internet
% 	\item A solution for storing and serving the data, i.e. the backend
% 	\item A web application for interactively presenting the data, i.e. the frontend
% \end{itemize}

% The ultimate purpose of the entire system is to enable a map.
% The map, in turn, has a goal of conveying information;
% it is a representation of the mapped phenomenon.
% However, studying how the map works,
% not as a piece of technology but as a representation,
% is impossible based on a technical implementation alone.

% My second research goal is to understand how
% this particular representation of accessibility conveys information.
% I aim to find out how the map user understands the map,
% and how they use cartographic interaction to explore the mapped phenomenon.


% My research questions reflect the goals of this study.  % TODO
% The first goal, being the interactive map presentation,
% necessitates research on the options and tools
% needed in its implementation.
% The way I approach this research is through qualities
% that the resulting system should have.
% As real-time interactivity is a priority of the map presentation,
% the performance of the system,
% i.e. minimizing the latency between
% the software receiving input and displaying results of said input,
% is one key aspect to consider.
% Just as essential is the visual quality of the map
% and the intuitiveness of its use.
% % discussion perhaps?
% % I also stress the importance of
% % \textit{how} the system is designed and developed.
% % If the software cannot be understood or maintained,
% % it has little real value,
% % no matter how performant the implementation or how elegant its user interface.

% % With these qualities and the aforementioned components of the system in mind,
% % I structrure the research.

% % While the resulting system, as a whole, should have all these qualities,
% % each part of the system is ultimately its own entity.
% % This is important to keep in mind when forming research questions,
% % as some qualities are naturally more or less important depending on the component.
% % For example,
% % visual quality has little to do with backend implementation.

% Considering the aforementioned components
% and the desired qualities of the system,
% my research questions in regard to its implementation are:

% \begin{itemize}
% 	\item Considering rapid real-time interaction,
% 	what are the performance bottlenecks of
% 	a web-based interactive map,
% 	and what data preprocessing and simplifying approaches
% 	are needed to overcome them?
% 	\item What differences are there between web mapping libraries
% 	when used as a platform for rapid real-time cartographic interaction?
% \end{itemize}  % TODO maybe list approaches -> which is best? Geometry simplification etc...

% % TODO move following to study design?

% % I answer the first question by evaluating approaches based on three criteria:
% % \begin{enumerate}
% % 	\item the impact on file size,
% % 	and thus on the time needed to transfer the files over the internet
% % 	\item the impact on rendering speed of the map when mapping the data
% % 	\item the impact on the visual detail of data,
% % 	i.e. how much information is lost
% % \end{enumerate}

% % File sizes can be compared quantitatively.
% % When evaluating rendering speed,
% % I combine quantitative tests of rendering speed with
% % my own qualitative assessment of the rendering performance when using the map.
% % I evaluate the visual detail by my own qualitative assessment.

% % I choose the most efficient solution for
% % storing and serving the data based on a qualitative assessment of
% % the available options. I define efficient as:
% % \begin{enumerate}
% % 	\item Introducing the least possible performance overhead
% % 	\item Introducing the least possible technical complexity
% % \end{enumerate}

% % I base my comparison of web mapping libraries on three criteria:
% % \begin{enumerate}
% % 	\item Visual quality of the map
% % 	\item Responsiveness of the map
% % 	\item User interface capabilities for interacting with the map
% % \end{enumerate}

% % The first two criteria I evaluate qualitatively. The third criteria, while an inherent quality of a mapping-library, Is that too ultimately my own view.  % TODO

% In order to gain insight on how the map functions as an interface and a representation,
% I focus on how people work with and understand the map.
% My research questions are:  % TODO?

% \begin{itemize}
% 	\item Which types of interaction available in the map do people use
% 	in different types of usage scenarios?
% 	\item Does rapid real-time interaction with the map change
% 	the map user's perception of the mapped phenomenon? If it does, how?
% \end{itemize}

% To answer these questions, user perspective is of course required.
% Thus, I carry out a survey
% where I combine the interactive map presentation with
% a semi-structured online questionnaire.

% In addition to directly addressing the aforementioned research questions,
% the survey has an important role in validating the map presentation.
% The complete system can be judged by
% how, and if, it works when used by real people.

% % In this sense, the survey brings additional weight to
% % the results of the technical research questions
% % as well as other choices related to the implementation of the map.

% % and whether map interaction impacts their understanding of the mapped phenomenon.

% % their order of importance depends on the part of the system being considered.
% % I value them differently depending on the  system With these qualities in mind I can then be applied to 
% % the parts of the system
% % that are visible to the user, i.e. the map application, or frontend.
% % Thus, the research questions I ask are:
% % at all stages of the implementation.
% % In regard to the performance of the map application,
% % there are three main components stages at which implementation decisions must be made:  % TODO

% % It must also be noted that while important,
% % software performance is not the only thing to consider.


% % What are the bottlenecks? What type of simplification is most effective?
% % What are the pros and cons of different approaches and levels of simplification?

% % qs: does the map work? Pros and cons?
% % To answer this question, I will divide
% % \begin{itemize}
% % 	\item Is isochronal representation of accessibility sufficient for real-time web-based map interaction? What are its pros and cons?
% % 	\item What kind of application design should be employed to serve and render geographical data fast enough to enable instantaneous interaction?
% % \end{itemize}

% % \subsection{Outputs}

% % \begin{itemize}
% % 	\item The map application
% % 	\item The bottlenecks of 
% % 	\item Does map interaction change the map user's perception and understanding of the concept of accessibility? If it does, how?
% % \end{itemize}

% % where participants, after being prompted to complete a task with the interactive map,  % TODO

% % All of these questions call for a review of relevant literature,
% % and of existing accessibility presentations.
% % In addition, to better explore especially the third question in practice,
% % an interactive web-based accessibility presentation will be implemented.
% % This presentation aims to visualize the Helsinki Region Travel Time Matrices \parencite{ten2020}.
% % The production of this presentation is carried out through
% % an iterative development process with interviews (or questionnaries?)
% % to keep in touch with the map user's perspective
% % and the ultimately qualitative nature of mapmaking.

% % TODO open source good: \parencite{un2020}
% % Currently, our data is often acquired, stored
% % and used for a single purpose within pillars or
% % functions. Access is often difficult, partly
% % because of a lack of awareness the data could
% % help others or reticence to share what we can.
% % \parencite{kra2021} 4.13 open access
