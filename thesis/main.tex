\documentclass[12pt]{article}

% Preamble
% Instead of a separeate file, all this must be in main.tex to make texlab function
% ---------------------------------------------------------------------------------
\renewcommand{\familydefault}{\sfdefault}  % switch default font to sans serif

\usepackage[utf8]{inputenc}
\usepackage{csquotes}

\usepackage[english]{babel}

\usepackage[a4paper,top=2.5cm,bottom=2.5cm,left=4cm,right=2.5cm,marginparwidth=1.75cm]{geometry}
\usepackage{parskip}

\usepackage{graphicx}
\usepackage[colorlinks=true, allcolors=black]{hyperref}

\usepackage{float}

\usepackage[acronym, nonumberlist]{glossaries}
\makenoidxglossaries

\newacronym{ttm}{TTM}{Helsinki region Travel Time Matrix}
\newacronym{ica}{ICA}{International Cartography Association}
\newacronym{ykr}{YKR}{Community structure monitoring system}
\newacronym{gpu}{GPU}{Graphics processing unit}
\newacronym{cpu}{CPU}{Central processing unit}
\newacronym{gis}{GIS}{Geographic information system}
\newacronym{hci}{HCI}{Human-computer-interaction}
\newacronym{ue}{UE}{Usability engineering}
\newacronym{ux}{UX}{User experience}
\newacronym{ui}{UI}{User interface}

\usepackage{array}
% https://tex.stackexchange.com/questions/12703/how-to-create-fixed-width-table-columns-with-text-raggedright-centered-raggedlef
\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}p{#1}}  % using p instead of m for top-allign
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{R}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}

\usepackage{booktabs}  % lists in tables
\newcommand{\tabitem}{~~\llap{\textbullet}~~}

% \usepackage{caption}
\usepackage[font=small]{caption}
\captionsetup{justification=raggedright}
\usepackage{subcaption}

% \usepackage{sectsty}  % sans serif headings the easy way
% \allsectionsfont{\sffamily}

\usepackage{titlesec}  % sans serif headings the hard way (but with exact HY style)
% \titleformat{<command>}[<shape>]{<format>}{<label>}{<sep>}{<before-code>}[<after-code>]
\titleformat{\section}{\large\sffamily\bfseries}{\thesection}{1em}{}
\titleformat{\subsection}{\normalsize\sffamily\bfseries}{\thesubsection}{1em}{}
\titleformat{\subsubsection}{\normalsize\sffamily}{\thesubsubsection}{1em}{}

\usepackage[style=apa6,uniquename=false]{biblatex}
\addbibresource{references.bib}

\usepackage[toc,page]{appendix}

\usepackage{pdfpages}  % pdf appendices

% Title page / abstract shenanigans
\usepackage{setspace}
\usepackage{tabularx}

\usepackage{makecell}
\usepackage{chngpage}
\usepackage{longtable}
\usepackage{cellspace}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{colortbl}
\usepackage{tablefootnote}
\setlength{\cellspacetoplimit}{6pt}
\setlength{\cellspacebottomlimit}{6pt}
\addparagraphcolumntypes{X}
\newcolumntype{?}{!{\vrule width 1.5pt}}
\newcommand{\Tstrut}{\rule{0pt}{2.2ex}}
\newcommand{\Bstrut}{\rule[-4.0ex]{0pt}{0pt}}
\newcommand{\TBstrut}{\Tstrut\Bstrut}
% \newcommand{\ra}[1]{\renewcommand{\arraystretch}{#1}}
\renewcommand{\arraystretch}{1.5}
\newcommand{\greyrule}{\arrayrulecolor{black!30}\midrule\arrayrulecolor{black}}
\newlength\tbspace
\setlength\tbspace{0.5cm}
% \newcolumntype{C}{c<{\hspace{\tbspace}}}%
% \newcolumntype{L}{l<{\hspace{\tbspace}}}%
% \usepackage{ragged2e}

% biblatex bibliography font
\renewcommand*{\bibfont}{\textrm}

% small sans serif page numbering
\usepackage{fancyhdr}
\fancypagestyle{plain}{
	\fancyhf{} % clear all header and footer fields
	\fancyfoot[C]{\sffamily\small\thepage}
	\renewcommand{\headrulewidth}{0pt}
	\renewcommand{\footrulewidth}{0pt}
}
\pagestyle{plain}

\raggedright
\linespread{1.25}

\newcommand{\diagramwidth}{0.9\textwidth}
\newcommand{\posesscite}[1]{\citeauthor{#1}'s (\citeyear{#1})}
% ---------------------------------------------------------------------------------

\begin{document}

\pagenumbering{gobble}

\newgeometry{margin=2.5cm}  % same margins everywhere for title & abstract
\include{sections/title_page}
\include{sections/abstract}
% \newpage

\tableofcontents

% \newpage
\restoregeometry  % back to initially specified geometry

\listoffigures
\listoftables
\printnoidxglossary[type=acronym, nogroupskip]

\rmfamily  % switch to roman (serif) base font for rest of the thesis

\cleardoublepage
\pagenumbering{arabic}

\include{sections/introduction}
\include{sections/background}
\include{sections/methods}
\include{sections/results}
\include{sections/discussion}

% Bibliography in toc
\clearpage
\addcontentsline{toc}{section}{References}

\printbibliography

% \clearpage
% \pagestyle{empty}

\include{sections/appendices}

\end{document}
